<p-card [header]="header" [subheader]="subHeader">
  <api-response [apiResponse]="viewModel$" errorMessage="Error loading user" loadingMessage="Loading user...">
    <ng-template #success let-viewModel>
      <p-table [value]="viewModel.roles">
        <ng-template pTemplate="header">
          <tr>
            <th><i class="pi pi-trash"></i></th>
            <th>Role</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-role>
          <tr>
            <td><p-button severity="danger" icon="pi pi-trash" title="Remove device" (onClick)="removeUserFromRole(role.name)" /></td>
            <td>
              <div class="flex flex-column">
                <a [routerLink]="'admin-role' | route : role.name"> {{ role.name }}</a>
                <span>{{ role.description }}</span>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <error-list [errors]="errors" />
    </ng-template>
  </api-response>
</p-card>
